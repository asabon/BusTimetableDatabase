---
description: 修正内容を把握し、適切なコミットメッセージを生成してコミットする手順
---

# /commit ワークフロー

このワークフローは、コードの修正内容とこれまでの対話の文脈から「適切なコミットメッセージ」を生成し、ステージングおよびコミットを自動化する手順を定義します。

## 前提条件
- 修正が完了し、`coding.md` に基づく品質チェック（`ruff` 等）が済んでいること。
- 作業ブランチが正しく切り替えられていること。

## 手順

### 1. 変更内容の把握
`git status` および `git diff` で変更点を抽出し、どのような修正を行ったかを再確認する。

### 2. コミットメッセージの生成
以下の情報を組み合わせて、具体的で分かりやすいコミットメッセージを生成する。
- **修正内容**: `git diff` から得られる技術的な変更点。
- **対話の文脈**: ユーザーからの具体的な依頼内容や、作業中に決定した事項。
- **Issue ID**: 必ず関連する Issue ID (例: `(Issue #123)`) を含める。

#### メッセージの形式例
`修正種別: 内容の要約 (Issue #ID)`

### 3. ステージングとコミット
変更をステージングし、生成したメッセージでコミットする。

```bash
git add .
git commit -m "生成されたコミットメッセージ"
```

## エージェント（Antigravity）への注意事項
- メッセージは「何を変えたか」だけでなく「なぜ変えたか」が伝わるように努めること。
- **分割コミットの判断**: 複数の無関係な修正が含まれる場合は、ユーザーに報告した上で、Antigravity の判断で分割してコミットすることを検討すること。
