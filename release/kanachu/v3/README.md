# Kanachu Bus Timetable Database V3 Release

このディレクトリには、神奈中バス時刻表データベース V3 のリリースアーティファクトが含まれます。

## リリースディレクトリ構成

本ディレクトリ (`release/kanachu/v3`) の構成は以下の通りです。

```text
release/kanachu/v3/
├── README.md        <-- 本ファイル
├── info.json        <-- メタデータ (ハッシュ値、更新日時、路線一覧)
└── {route_id}.zip   <-- 路線別データ (多数存在)
```

### info.json の内容

`info.json` には、データセット全体のメタデータと、各路線の更新情報が含まれます。
アプリはこれを参照して、必要な路線データのみをダウンロード・更新することができます。

```json
{
  "updated_at": "2025-11-29",
  "hash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
  "routes": [
    {
      "id": "0000800009",
      "hash": "8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92",
      "busstops": ["00128390", "00128389", "00128388", "00128357", "00128356"]
    },
    ...
  ]
}
```

- `updated_at`: データセット全体の最終更新日 (YYYY-MM-DD)
- `routes`: 路線ごとのメタデータリスト
  - `id`: 路線ID (ファイル名 `{route_id}.zip` に対応)
  - `hash`: その路線のデータのハッシュ値 (SHA-256)
  - `busstops`: その路線が経由するバス停IDのリスト (停車順に並びます)

## 提供されるファイル

### 路線別データ (`{route_id}.zip`)
特定の路線のみが必要なアプリ開発者向けに、路線ごとの個別zipファイルを提供します。
必要な路線だけをダウンロードすることで、通信量とストレージを節約できます。

## ディレクトリ構成

すべてのzipファイルは、展開すると `database` というルートディレクトリの下に配置されるように構成されています。
これにより、複数の路線zipを同じディレクトリに展開するだけで、データを統合できます。

### 展開後の構造例

```text
.
└── database/
    ├── {route_id_A}/          <-- 路線Aのデータ
    │   ├── stops.json
    │   ├── trips.json
    │   └── ...
    ├── {route_id_B}/          <-- 路線Bのデータ
    │   ├── stops.json
    │   └── ...
    └── ...
```

### ファイル詳細

各路線ディレクトリ (`{route_id}`) 内には以下のファイルが含まれます。

- `stops.json`: 停留所情報
- `trips.json`: 便情報
- `calendar.json`: 運行カレンダー
- ... (その他のGTFSライクなJSONファイル)

## アプリ開発者への推奨事項

- **部分更新**: アプリ側で必要な路線が予め決まっている場合、`{route_id}.zip` を個別にダウンロードして展開することを推奨します。
- **データ統合**: 複数の個別データを同じディレクトリに展開することで、データを統合できます。
